# 2.1 Principles of Network Applications

- Network applications enable communication and resource sharing over the Internet.
- **Examples:** Web, email, file transfer, streaming, messaging.
- **Architecture:** Client-server, peer-to-peer (P2P), hybrid (e.g., Skype).
- **Protocols:** Define rules for data exchange (HTTP, SMTP, FTP, DNS).

---

## Application Architectures
- **Client-server:** Centralized server provides resources/services to clients (e.g., web browsing, email).
- **Peer-to-peer (P2P):** Peers act as both clients and servers (e.g., BitTorrent, blockchain).
- **Hybrid:** Combines both (e.g., Skype, WhatsApp).

---

## Real-World Example
- Web browser (client) requests a web page from a server using HTTP.
- File sharing apps (P2P) like BitTorrent distribute files among users.
- Messaging apps (hybrid) use central servers for login, P2P for file transfer.

---

## Diagram: Client-Server vs. P2P
```mermaid
graph TD
  A[Client] -- Request --> B[Server]
  B -- Response --> A
  C[Peer 1] -- Share --> D[Peer 2]
  D -- Share --> E[Peer 3]
```

---

## 2.1.1 Network Application Architectures
- **Client-Server:** Centralized server, multiple clients (e.g., web, email).
- **Peer-to-Peer (P2P):** Peers act as both client and server (e.g., BitTorrent).
- **Hybrid:** Mix of client-server and P2P (e.g., Skype, modern streaming).
- **Diagram:**
```mermaid
graph LR
  A[Client] -- Request --> B[Server]
  B -- Response --> A
  C[Peer 1] -- Data <--> D[Peer 2]
```

---

## 2.1.2 Processes Communicating
- **Process:** Program running on a host.
- **Socket:** Interface for process-to-process communication.
- **Addressing:** IP address + port number identifies a process.
- **Scenario:** Web browser (client) connects to web server (process) via TCP socket.

---

## 2.1.3 Transport Services Available to Applications
- **Reliable Data Transfer:** Guarantees delivery (TCP).
- **Unreliable Data Transfer:** No guarantee (UDP).
- **Throughput, Timing, Security:** Some applications need high throughput (video), low delay (VoIP), or security (HTTPS).
- **Table:**
| Service      | TCP | UDP |
|--------------|-----|-----|
| Reliable     | Yes | No  |
| Ordered      | Yes | No  |
| Connection   | Yes | No  |
| Speed        | Med | High|
| Use-case     | Web | VoIP|

---

## 2.1.4 Transport Services Provided by the Internet
- **TCP:** Reliable, connection-oriented, ordered, congestion control.
- **UDP:** Unreliable, connectionless, unordered, fast.
- **Scenario:** File download uses TCP; live video uses UDP.

---

## 2.1.5 Application-Layer Protocols
- **Protocol:** Defines message format, order, actions.
- **Examples:** HTTP, SMTP, FTP, DNS, BitTorrent.
- **Diagram:**
```mermaid
graph TD
  A[Client] -- HTTP GET --> B[Server]
  B -- HTTP Response --> A
```

---

## 2.1.6 Network Applications Covered in This Book
- Web (HTTP), Email (SMTP, POP3, IMAP), DNS, P2P (BitTorrent), Streaming, Sockets.

---

## Common Application-Layer Protocols
| Protocol | Port | Use Case         |
|----------|------|-----------------|
| HTTP     | 80   | Web browsing    |
| HTTPS    | 443  | Secure web      |
| SMTP     | 25   | Email sending   |
| POP3     | 110  | Email retrieval |
| IMAP     | 143  | Email sync      |
| FTP      | 21   | File transfer   |
| DNS      | 53   | Name resolution |

---

## Summary Table
| Architecture | Example      | Key Feature         |
|--------------|-------------|--------------------|
| Client-Server| Web, Email  | Centralized server |
| P2P          | BitTorrent  | Decentralized      |
| Hybrid       | Skype       | Mix of both        |

---

## Practice Questions
1. **What is a network application? Give two examples.**
2. **Compare client-server and P2P architectures.**
3. **Name two common application-layer protocols.**
4. **Give a real-world example of a hybrid architecture.**
5. **List three application-layer protocols and their default ports.**

---

**Exam Tips:**
- Know application architectures and protocol examples.
- Be able to draw and explain diagrams.
- Memorize common protocol ports for the exam.

## Practice Questions
1. **Compare client-server and P2P architectures. Give an example of each.**
2. **What is a socket? Why is it important for network applications?**
3. **List three differences between TCP and UDP.**
4. **Describe a scenario where UDP is preferred over TCP.**

---

**Exam Tips:**
- Know the differences between TCP and UDP.
- Be able to draw and explain client-server and P2P diagrams.
- Understand sockets and addressing.

---

## Other Important Application-Layer Protocols
- **FTP (File Transfer Protocol):** Transfers files between client and server. Uses separate control (port 21) and data (port 20) connections. Not encrypted by default.
- **Telnet:** Remote terminal access to servers. Insecure (plaintext). Superseded by SSH.
- **SSH (Secure Shell):** Secure remote login and command execution. Encrypts all traffic.

---

## Modern Application Protocols
- **REST APIs:** Web services using HTTP for communication. Stateless, uses JSON/XML. Common in web/mobile apps.
- **WebSockets:** Provides full-duplex, real-time communication over a single TCP connection. Used for chat, live updates, games.

---

## Application-Layer Security
- **HTTPS:** HTTP over TLS/SSL. Encrypts web traffic for privacy and integrity.
- **DNSSEC:** Adds authentication to DNS responses, preventing spoofing.
- **Email Security:** Protocols like SPF, DKIM, and DMARC help prevent email spoofing and phishing.

---

## Case Studies & Real-World Strategies

### 1. Web Application Delivery
- **Google, Facebook, Amazon:** Use global load balancing, edge caching (CDNs), and HTTP/2/3 for fast, reliable web delivery. Employ A/B testing and canary releases for feature rollouts.
- **YouTube:** Uses adaptive streaming (DASH), edge servers, and prefetching to optimize video delivery.

### 2. DNS Optimization
- **Google Public DNS, Cloudflare 1.1.1.1:** Provide fast, secure, and privacy-focused DNS resolution. Use anycast routing to direct users to the nearest DNS server.
- **Netflix:** Uses DNS-based request routing to direct users to the optimal CDN edge location.

### 3. Email Security and Delivery
- **Gmail, Outlook:** Implement SPF, DKIM, DMARC, and advanced spam/phishing detection. Use TLS for secure email transport and support encrypted email (S/MIME).

### 4. Streaming and CDN Strategies
- **Netflix:** Open Connect CDN, places servers inside ISP networks, pre-positions popular content, uses adaptive bitrate streaming.
- **Amazon Prime Video:** Uses AWS CloudFront, multi-tier caching, and dynamic scaling.
- **Twitch:** Uses HLS for live streaming, with low-latency and scalable edge delivery.

### 5. Peer-to-Peer (P2P) and File Sharing
- **BitTorrent:** Uses tit-for-tat, rarest-first piece selection, and DHT for decentralized peer discovery. Used by Blizzard (game updates), Facebook (internal file distribution), and others.

### 6. REST APIs and WebSockets
- **Twitter, Slack, WhatsApp:** Use REST APIs for stateless communication and WebSockets for real-time updates (chat, notifications).
- **Facebook Graph API:** Provides unified access to social data via RESTful endpoints.

### 7. Security Best Practices
- **All major providers:** Enforce HTTPS by default, use HSTS, implement rate limiting, and monitor for abuse. Employ OAuth2/OpenID Connect for secure authentication and authorization. 